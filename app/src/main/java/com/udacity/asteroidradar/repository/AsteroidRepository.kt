package com.udacity.asteroidradar.repository

import androidx.lifecycle.LiveData
import androidx.lifecycle.Transformations
import com.udacity.asteroidradar.api.parseAsteroidsJsonResult
import com.udacity.asteroidradar.data.Asteroid
import com.udacity.asteroidradar.data.asDatabaseModel
import com.udacity.asteroidradar.database.AsteroidDatabase
import com.udacity.asteroidradar.database.asDomainModel
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.withContext
import org.json.JSONObject

class AsteroidRepository(private val database: AsteroidDatabase) {
    val asteroids: LiveData<List<Asteroid>> =
        Transformations.map(database.asteroidDao.getAsteroids()) {
            it.asDomainModel()
        }

    suspend fun refreshAsteroidList() {
        withContext(Dispatchers.IO) {
//            val response = AsteroidNetwork.service.getAsteroids("2015-09-07", "2015-09-08")
//            val jsonResponse = JSONObject(response)
            val jsonResponse = JSONObject(mockResponse)
            val parsedResponse = parseAsteroidsJsonResult(jsonResponse)
            database.asteroidDao.insertAll(*parsedResponse.asDatabaseModel())
        }
    }
}

const val mockResponse = "{\"links\":{\"next\":\"http://www.neowsapp.com/rest/v1/feed?start_date=2021-07-11&end_date=2021-07-12&detailed=false&api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\",\"prev\":\"http://www.neowsapp.com/rest/v1/feed?start_date=2021-07-09&end_date=2021-07-10&detailed=false&api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\",\"self\":\"http://www.neowsapp.com/rest/v1/feed?start_date=2021-07-10&end_date=2021-07-11&detailed=false&api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"element_count\":23,\"near_earth_objects\":{\"2021-07-10\":[{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/2380636?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"2380636\",\"neo_reference_id\":\"2380636\",\"name\":\"380636 (2004 XN14)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=2380636\",\"absolute_magnitude_h\":19.77,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.2954982931,\"estimated_diameter_max\":0.6607542706},\"meters\":{\"estimated_diameter_min\":295.4982931114,\"estimated_diameter_max\":660.7542706324},\"miles\":{\"estimated_diameter_min\":0.1836140699,\"estimated_diameter_max\":0.4105735419},\"feet\":{\"estimated_diameter_min\":969.4826199718,\"estimated_diameter_max\":2167.8290412615}},\"is_potentially_hazardous_asteroid\":true,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-10\",\"close_approach_date_full\":\"2021-Jul-10 19:04\",\"epoch_date_close_approach\":1625943840000,\"relative_velocity\":{\"kilometers_per_second\":\"10.031789862\",\"kilometers_per_hour\":\"36114.4435031856\",\"miles_per_hour\":\"22440.1107422989\"},\"miss_distance\":{\"astronomical\":\"0.2817393983\",\"lunar\":\"109.5966259387\",\"kilometers\":\"42147613.880761621\",\"miles\":\"26189312.8509315298\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/3483327?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"3483327\",\"neo_reference_id\":\"3483327\",\"name\":\"(2009 XP2)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3483327\",\"absolute_magnitude_h\":25.2,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.0242412481,\"estimated_diameter_max\":0.0542050786},\"meters\":{\"estimated_diameter_min\":24.2412481101,\"estimated_diameter_max\":54.2050786336},\"miles\":{\"estimated_diameter_min\":0.0150628086,\"estimated_diameter_max\":0.0336814639},\"feet\":{\"estimated_diameter_min\":79.5316564495,\"estimated_diameter_max\":177.8381901842}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-10\",\"close_approach_date_full\":\"2021-Jul-10 09:50\",\"epoch_date_close_approach\":1625910600000,\"relative_velocity\":{\"kilometers_per_second\":\"6.3119860835\",\"kilometers_per_hour\":\"22723.1499006561\",\"miles_per_hour\":\"14119.281670216\"},\"miss_distance\":{\"astronomical\":\"0.3124454135\",\"lunar\":\"121.5412658515\",\"kilometers\":\"46741168.350869245\",\"miles\":\"29043615.242895781\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/3698551?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"3698551\",\"neo_reference_id\":\"3698551\",\"name\":\"(2014 HC199)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3698551\",\"absolute_magnitude_h\":22.38,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.0888290416,\"estimated_diameter_max\":0.1986277755},\"meters\":{\"estimated_diameter_min\":88.8290416389,\"estimated_diameter_max\":198.6277754808},\"miles\":{\"estimated_diameter_min\":0.0551957904,\"estimated_diameter_max\":0.1234215395},\"feet\":{\"estimated_diameter_min\":291.4338729707,\"estimated_diameter_max\":651.6659509085}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-10\",\"close_approach_date_full\":\"2021-Jul-10 17:51\",\"epoch_date_close_approach\":1625939460000,\"relative_velocity\":{\"kilometers_per_second\":\"12.9135243758\",\"kilometers_per_hour\":\"46488.6877530208\",\"miles_per_hour\":\"28886.2626763145\"},\"miss_distance\":{\"astronomical\":\"0.082797796\",\"lunar\":\"32.208342644\",\"kilometers\":\"12386373.92229452\",\"miles\":\"7696535.862203576\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/3672464?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"3672464\",\"neo_reference_id\":\"3672464\",\"name\":\"(2014 KM39)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3672464\",\"absolute_magnitude_h\":24.4,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.0350392641,\"estimated_diameter_max\":0.0783501764},\"meters\":{\"estimated_diameter_min\":35.0392641108,\"estimated_diameter_max\":78.3501764334},\"miles\":{\"estimated_diameter_min\":0.0217723826,\"estimated_diameter_max\":0.0486845275},\"feet\":{\"estimated_diameter_min\":114.9582192654,\"estimated_diameter_max\":257.0543928497}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-10\",\"close_approach_date_full\":\"2021-Jul-10 03:28\",\"epoch_date_close_approach\":1625887680000,\"relative_velocity\":{\"kilometers_per_second\":\"9.0170956285\",\"kilometers_per_hour\":\"32461.5442626549\",\"miles_per_hour\":\"20170.3412114258\"},\"miss_distance\":{\"astronomical\":\"0.3108277624\",\"lunar\":\"120.9119995736\",\"kilometers\":\"46499171.191906088\",\"miles\":\"28893245.1810684944\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/3684730?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"3684730\",\"neo_reference_id\":\"3684730\",\"name\":\"(2014 QE365)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3684730\",\"absolute_magnitude_h\":21.0,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.1677084622,\"estimated_diameter_max\":0.3750075218},\"meters\":{\"estimated_diameter_min\":167.7084621628,\"estimated_diameter_max\":375.0075217981},\"miles\":{\"estimated_diameter_min\":0.1042091748,\"estimated_diameter_max\":0.2330187988},\"feet\":{\"estimated_diameter_min\":550.2246310023,\"estimated_diameter_max\":1230.3396778159}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-10\",\"close_approach_date_full\":\"2021-Jul-10 15:52\",\"epoch_date_close_approach\":1625932320000,\"relative_velocity\":{\"kilometers_per_second\":\"18.4442980906\",\"kilometers_per_hour\":\"66399.4731261503\",\"miles_per_hour\":\"41258.0503988571\"},\"miss_distance\":{\"astronomical\":\"0.2338939547\",\"lunar\":\"90.9847483783\",\"kilometers\":\"34990037.428996489\",\"miles\":\"21741801.0776659882\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/3826668?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"3826668\",\"neo_reference_id\":\"3826668\",\"name\":\"(2018 PH9)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3826668\",\"absolute_magnitude_h\":24.0,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.0421264611,\"estimated_diameter_max\":0.0941976306},\"meters\":{\"estimated_diameter_min\":42.1264610556,\"estimated_diameter_max\":94.1976305719},\"miles\":{\"estimated_diameter_min\":0.0261761612,\"estimated_diameter_max\":0.0585316759},\"feet\":{\"estimated_diameter_min\":138.2101784897,\"estimated_diameter_max\":309.0473542854}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-10\",\"close_approach_date_full\":\"2021-Jul-10 20:52\",\"epoch_date_close_approach\":1625950320000,\"relative_velocity\":{\"kilometers_per_second\":\"12.4430622219\",\"kilometers_per_hour\":\"44795.0239988414\",\"miles_per_hour\":\"27833.885884169\"},\"miss_distance\":{\"astronomical\":\"0.3403284407\",\"lunar\":\"132.3877634323\",\"kilometers\":\"50912409.829141309\",\"miles\":\"31635504.5099917042\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/54016563?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"54016563\",\"neo_reference_id\":\"54016563\",\"name\":\"(2020 HT)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=54016563\",\"absolute_magnitude_h\":26.7,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.0121494041,\"estimated_diameter_max\":0.0271668934},\"meters\":{\"estimated_diameter_min\":12.14940408,\"estimated_diameter_max\":27.1668934089},\"miles\":{\"estimated_diameter_min\":0.0075492874,\"estimated_diameter_max\":0.0168807197},\"feet\":{\"estimated_diameter_min\":39.8602508817,\"estimated_diameter_max\":89.1302305717}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-10\",\"close_approach_date_full\":\"2021-Jul-10 23:30\",\"epoch_date_close_approach\":1625959800000,\"relative_velocity\":{\"kilometers_per_second\":\"13.3383930213\",\"kilometers_per_hour\":\"48018.2148768532\",\"miles_per_hour\":\"29836.6513494536\"},\"miss_distance\":{\"astronomical\":\"0.3438254386\",\"lunar\":\"133.7480956154\",\"kilometers\":\"51435553.266375782\",\"miles\":\"31960570.7683665116\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/54147412?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"54147412\",\"neo_reference_id\":\"54147412\",\"name\":\"(2021 KY1)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=54147412\",\"absolute_magnitude_h\":24.0,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.0421264611,\"estimated_diameter_max\":0.0941976306},\"meters\":{\"estimated_diameter_min\":42.1264610556,\"estimated_diameter_max\":94.1976305719},\"miles\":{\"estimated_diameter_min\":0.0261761612,\"estimated_diameter_max\":0.0585316759},\"feet\":{\"estimated_diameter_min\":138.2101784897,\"estimated_diameter_max\":309.0473542854}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-10\",\"close_approach_date_full\":\"2021-Jul-10 08:25\",\"epoch_date_close_approach\":1625905500000,\"relative_velocity\":{\"kilometers_per_second\":\"5.6910429935\",\"kilometers_per_hour\":\"20487.754776506\",\"miles_per_hour\":\"12730.2940721017\"},\"miss_distance\":{\"astronomical\":\"0.0805017315\",\"lunar\":\"31.3151735535\",\"kilometers\":\"12042887.563711905\",\"miles\":\"7483103.335978089\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/54160168?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"54160168\",\"neo_reference_id\":\"54160168\",\"name\":\"(2021 LS6)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=54160168\",\"absolute_magnitude_h\":23.78,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.0466181437,\"estimated_diameter_max\":0.1042413384},\"meters\":{\"estimated_diameter_min\":46.618143739,\"estimated_diameter_max\":104.2413383852},\"miles\":{\"estimated_diameter_min\":0.0289671626,\"estimated_diameter_max\":0.0647725447},\"feet\":{\"estimated_diameter_min\":152.9466707045,\"estimated_diameter_max\":341.9991526276}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-10\",\"close_approach_date_full\":\"2021-Jul-10 07:36\",\"epoch_date_close_approach\":1625902560000,\"relative_velocity\":{\"kilometers_per_second\":\"5.6166652014\",\"kilometers_per_hour\":\"20219.9947250568\",\"miles_per_hour\":\"12563.9183890221\"},\"miss_distance\":{\"astronomical\":\"0.1748340528\",\"lunar\":\"68.0104465392\",\"kilometers\":\"26154801.902347536\",\"miles\":\"16251840.2942705568\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/54165115?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"54165115\",\"neo_reference_id\":\"54165115\",\"name\":\"(2021 NE)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=54165115\",\"absolute_magnitude_h\":26.73,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.011982708,\"estimated_diameter_max\":0.0267941497},\"meters\":{\"estimated_diameter_min\":11.9827080067,\"estimated_diameter_max\":26.7941496575},\"miles\":{\"estimated_diameter_min\":0.0074457073,\"estimated_diameter_max\":0.0166491076},\"feet\":{\"estimated_diameter_min\":39.3133477367,\"estimated_diameter_max\":87.9073179624}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-10\",\"close_approach_date_full\":\"2021-Jul-10 15:37\",\"epoch_date_close_approach\":1625931420000,\"relative_velocity\":{\"kilometers_per_second\":\"9.6677058634\",\"kilometers_per_hour\":\"34803.7411081944\",\"miles_per_hour\":\"21625.6912458111\"},\"miss_distance\":{\"astronomical\":\"0.0148404414\",\"lunar\":\"5.7729317046\",\"kilometers\":\"2220098.423299818\",\"miles\":\"1379505.1917327684\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false}],\"2021-07-11\":[{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/2401885?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"2401885\",\"neo_reference_id\":\"2401885\",\"name\":\"401885 (2001 RV17)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=2401885\",\"absolute_magnitude_h\":20.5,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.2111324448,\"estimated_diameter_max\":0.4721064988},\"meters\":{\"estimated_diameter_min\":211.1324447897,\"estimated_diameter_max\":472.1064988055},\"miles\":{\"estimated_diameter_min\":0.1311915784,\"estimated_diameter_max\":0.2933532873},\"feet\":{\"estimated_diameter_min\":692.6917701639,\"estimated_diameter_max\":1548.9058855411}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-11\",\"close_approach_date_full\":\"2021-Jul-11 04:05\",\"epoch_date_close_approach\":1625976300000,\"relative_velocity\":{\"kilometers_per_second\":\"10.8868798301\",\"kilometers_per_hour\":\"39192.7673882318\",\"miles_per_hour\":\"24352.8614918711\"},\"miss_distance\":{\"astronomical\":\"0.1059448425\",\"lunar\":\"41.2125437325\",\"kilometers\":\"15849122.775485475\",\"miles\":\"9848188.226130555\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/2445775?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"2445775\",\"neo_reference_id\":\"2445775\",\"name\":\"445775 (2011 YA)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=2445775\",\"absolute_magnitude_h\":18.64,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.4972273129,\"estimated_diameter_max\":1.1118340719},\"meters\":{\"estimated_diameter_min\":497.2273129092,\"estimated_diameter_max\":1111.8340719346},\"miles\":{\"estimated_diameter_min\":0.3089626326,\"estimated_diameter_max\":0.6908614491},\"feet\":{\"estimated_diameter_min\":1631.3232572851,\"estimated_diameter_max\":3647.7496965659}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-11\",\"close_approach_date_full\":\"2021-Jul-11 16:16\",\"epoch_date_close_approach\":1626020160000,\"relative_velocity\":{\"kilometers_per_second\":\"16.4468882033\",\"kilometers_per_hour\":\"59208.7975320427\",\"miles_per_hour\":\"36790.0442220629\"},\"miss_distance\":{\"astronomical\":\"0.2558199645\",\"lunar\":\"99.5139661905\",\"kilometers\":\"38270121.792675615\",\"miles\":\"23779950.990988887\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/2509073?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"2509073\",\"neo_reference_id\":\"2509073\",\"name\":\"509073 (2005 UM5)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=2509073\",\"absolute_magnitude_h\":20.6,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.2016299194,\"estimated_diameter_max\":0.4508582062},\"meters\":{\"estimated_diameter_min\":201.6299194428,\"estimated_diameter_max\":450.8582061718},\"miles\":{\"estimated_diameter_min\":0.1252869847,\"estimated_diameter_max\":0.2801502144},\"feet\":{\"estimated_diameter_min\":661.5155049046,\"estimated_diameter_max\":1479.1936371367}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-11\",\"close_approach_date_full\":\"2021-Jul-11 02:21\",\"epoch_date_close_approach\":1625970060000,\"relative_velocity\":{\"kilometers_per_second\":\"18.3116940695\",\"kilometers_per_hour\":\"65922.0986500488\",\"miles_per_hour\":\"40961.4284639706\"},\"miss_distance\":{\"astronomical\":\"0.4383508711\",\"lunar\":\"170.5184888579\",\"kilometers\":\"65576356.629204557\",\"miles\":\"40747258.5339026066\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/3548525?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"3548525\",\"neo_reference_id\":\"3548525\",\"name\":\"(2010 TB54)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3548525\",\"absolute_magnitude_h\":26.8,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.0116025908,\"estimated_diameter_max\":0.0259441818},\"meters\":{\"estimated_diameter_min\":11.6025908209,\"estimated_diameter_max\":25.9441817907},\"miles\":{\"estimated_diameter_min\":0.0072095135,\"estimated_diameter_max\":0.0161209622},\"feet\":{\"estimated_diameter_min\":38.066244069,\"estimated_diameter_max\":85.1187093863}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-11\",\"close_approach_date_full\":\"2021-Jul-11 20:15\",\"epoch_date_close_approach\":1626034500000,\"relative_velocity\":{\"kilometers_per_second\":\"8.346615661\",\"kilometers_per_hour\":\"30047.8163795591\",\"miles_per_hour\":\"18670.5445720655\"},\"miss_distance\":{\"astronomical\":\"0.4711825064\",\"lunar\":\"183.2899949896\",\"kilometers\":\"70487899.338701368\",\"miles\":\"43799149.6555121584\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/3560816?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"3560816\",\"neo_reference_id\":\"3560816\",\"name\":\"(2011 FR29)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3560816\",\"absolute_magnitude_h\":21.54,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.1307841086,\"estimated_diameter_max\":0.2924421572},\"meters\":{\"estimated_diameter_min\":130.7841085841,\"estimated_diameter_max\":292.4421571708},\"miles\":{\"estimated_diameter_min\":0.0812654523,\"estimated_diameter_max\":0.1817150756},\"feet\":{\"estimated_diameter_min\":429.0817348072,\"estimated_diameter_max\":959.4559269323}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-11\",\"close_approach_date_full\":\"2021-Jul-11 13:28\",\"epoch_date_close_approach\":1626010080000,\"relative_velocity\":{\"kilometers_per_second\":\"8.5599144023\",\"kilometers_per_hour\":\"30815.6918482979\",\"miles_per_hour\":\"19147.672526516\"},\"miss_distance\":{\"astronomical\":\"0.0876164322\",\"lunar\":\"34.0827921258\",\"kilometers\":\"13107231.634119414\",\"miles\":\"8144456.0739953532\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/3772395?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"3772395\",\"neo_reference_id\":\"3772395\",\"name\":\"(2017 FT64)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3772395\",\"absolute_magnitude_h\":24.4,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.0350392641,\"estimated_diameter_max\":0.0783501764},\"meters\":{\"estimated_diameter_min\":35.0392641108,\"estimated_diameter_max\":78.3501764334},\"miles\":{\"estimated_diameter_min\":0.0217723826,\"estimated_diameter_max\":0.0486845275},\"feet\":{\"estimated_diameter_min\":114.9582192654,\"estimated_diameter_max\":257.0543928497}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-11\",\"close_approach_date_full\":\"2021-Jul-11 05:31\",\"epoch_date_close_approach\":1625981460000,\"relative_velocity\":{\"kilometers_per_second\":\"6.5014432104\",\"kilometers_per_hour\":\"23405.1955574223\",\"miles_per_hour\":\"14543.0783173327\"},\"miss_distance\":{\"astronomical\":\"0.3689475213\",\"lunar\":\"143.5205857857\",\"kilometers\":\"55193763.328259631\",\"miles\":\"34295814.2141436678\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/3781003?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"3781003\",\"neo_reference_id\":\"3781003\",\"name\":\"(2017 QF17)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3781003\",\"absolute_magnitude_h\":19.7,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.3051792326,\"estimated_diameter_max\":0.6824015094},\"meters\":{\"estimated_diameter_min\":305.1792325939,\"estimated_diameter_max\":682.4015094011},\"miles\":{\"estimated_diameter_min\":0.1896295249,\"estimated_diameter_max\":0.4240245083},\"feet\":{\"estimated_diameter_min\":1001.2442334633,\"estimated_diameter_max\":2238.8501681036}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-11\",\"close_approach_date_full\":\"2021-Jul-11 23:09\",\"epoch_date_close_approach\":1626044940000,\"relative_velocity\":{\"kilometers_per_second\":\"8.6622076037\",\"kilometers_per_hour\":\"31183.9473733677\",\"miles_per_hour\":\"19376.4921887462\"},\"miss_distance\":{\"astronomical\":\"0.4709189575\",\"lunar\":\"183.1874744675\",\"kilometers\":\"70448472.984620525\",\"miles\":\"43774651.255092245\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/3781966?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"3781966\",\"neo_reference_id\":\"3781966\",\"name\":\"(2017 SR19)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3781966\",\"absolute_magnitude_h\":19.32,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.3635423218,\"estimated_diameter_max\":0.8129053443},\"meters\":{\"estimated_diameter_min\":363.5423218434,\"estimated_diameter_max\":812.9053443399},\"miles\":{\"estimated_diameter_min\":0.2258946561,\"estimated_diameter_max\":0.5051158067},\"feet\":{\"estimated_diameter_min\":1192.7241911966,\"estimated_diameter_max\":2667.0123699241}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-11\",\"close_approach_date_full\":\"2021-Jul-11 21:30\",\"epoch_date_close_approach\":1626039000000,\"relative_velocity\":{\"kilometers_per_second\":\"7.8172347683\",\"kilometers_per_hour\":\"28142.0451659722\",\"miles_per_hour\":\"17486.3724532675\"},\"miss_distance\":{\"astronomical\":\"0.2732680818\",\"lunar\":\"106.3012838202\",\"kilometers\":\"40880322.976265766\",\"miles\":\"25401854.7977929308\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/3840729?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"3840729\",\"neo_reference_id\":\"3840729\",\"name\":\"(2019 FB2)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=3840729\",\"absolute_magnitude_h\":26.5,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.0133215567,\"estimated_diameter_max\":0.0297879063},\"meters\":{\"estimated_diameter_min\":13.3215566698,\"estimated_diameter_max\":29.7879062798},\"miles\":{\"estimated_diameter_min\":0.008277629,\"estimated_diameter_max\":0.0185093411},\"feet\":{\"estimated_diameter_min\":43.7058959846,\"estimated_diameter_max\":97.7293544391}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-11\",\"close_approach_date_full\":\"2021-Jul-11 08:18\",\"epoch_date_close_approach\":1625991480000,\"relative_velocity\":{\"kilometers_per_second\":\"22.9757926749\",\"kilometers_per_hour\":\"82712.853629532\",\"miles_per_hour\":\"51394.5506344167\"},\"miss_distance\":{\"astronomical\":\"0.4442284121\",\"lunar\":\"172.8048523069\",\"kilometers\":\"66455624.243642227\",\"miles\":\"41293610.0948556526\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/54097670?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"54097670\",\"neo_reference_id\":\"54097670\",\"name\":\"(2020 WU5)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=54097670\",\"absolute_magnitude_h\":18.7,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.4836764882,\"estimated_diameter_max\":1.0815335068},\"meters\":{\"estimated_diameter_min\":483.6764882185,\"estimated_diameter_max\":1081.533506775},\"miles\":{\"estimated_diameter_min\":0.3005425432,\"estimated_diameter_max\":0.6720335566},\"feet\":{\"estimated_diameter_min\":1586.8651696069,\"estimated_diameter_max\":3548.3383903678}},\"is_potentially_hazardous_asteroid\":true,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-11\",\"close_approach_date_full\":\"2021-Jul-11 06:04\",\"epoch_date_close_approach\":1625983440000,\"relative_velocity\":{\"kilometers_per_second\":\"20.5821257335\",\"kilometers_per_hour\":\"74095.6526406324\",\"miles_per_hour\":\"46040.1570532863\"},\"miss_distance\":{\"astronomical\":\"0.1590677514\",\"lunar\":\"61.8773552946\",\"kilometers\":\"23796196.795129518\",\"miles\":\"14786271.0399946284\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/54106084?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"54106084\",\"neo_reference_id\":\"54106084\",\"name\":\"(2021 BB)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=54106084\",\"absolute_magnitude_h\":28.02,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.0066153828,\"estimated_diameter_max\":0.0147924455},\"meters\":{\"estimated_diameter_min\":6.615382752,\"estimated_diameter_max\":14.7924455306},\"miles\":{\"estimated_diameter_min\":0.004110607,\"estimated_diameter_max\":0.0091915967},\"feet\":{\"estimated_diameter_min\":21.7040123481,\"estimated_diameter_max\":48.5316469947}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-11\",\"close_approach_date_full\":\"2021-Jul-11 10:48\",\"epoch_date_close_approach\":1626000480000,\"relative_velocity\":{\"kilometers_per_second\":\"5.9180232731\",\"kilometers_per_hour\":\"21304.8837833208\",\"miles_per_hour\":\"13238.0262596973\"},\"miss_distance\":{\"astronomical\":\"0.1559752605\",\"lunar\":\"60.6743763345\",\"kilometers\":\"23333566.743495135\",\"miles\":\"14498806.055837463\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/54158253?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"54158253\",\"neo_reference_id\":\"54158253\",\"name\":\"(2021 LD5)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=54158253\",\"absolute_magnitude_h\":21.49,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.1338304618,\"estimated_diameter_max\":0.2992540101},\"meters\":{\"estimated_diameter_min\":133.8304618158,\"estimated_diameter_max\":299.2540100804},\"miles\":{\"estimated_diameter_min\":0.0831583679,\"estimated_diameter_max\":0.1859477635},\"feet\":{\"estimated_diameter_min\":439.0763323438,\"estimated_diameter_max\":981.8045264321}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-11\",\"close_approach_date_full\":\"2021-Jul-11 00:25\",\"epoch_date_close_approach\":1625963100000,\"relative_velocity\":{\"kilometers_per_second\":\"6.0160310871\",\"kilometers_per_hour\":\"21657.7119134653\",\"miles_per_hour\":\"13457.2599386752\"},\"miss_distance\":{\"astronomical\":\"0.3056026361\",\"lunar\":\"118.8794254429\",\"kilometers\":\"45717503.426945107\",\"miles\":\"28407539.3544001966\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false},{\"links\":{\"self\":\"http://www.neowsapp.com/rest/v1/neo/54159392?api_key=0dJ86mvvISnXUV3wSCCvftSyYLhduIx89QibwQIK\"},\"id\":\"54159392\",\"neo_reference_id\":\"54159392\",\"name\":\"(2021 LO5)\",\"nasa_jpl_url\":\"http://ssd.jpl.nasa.gov/sbdb.cgi?sstr=54159392\",\"absolute_magnitude_h\":20.86,\"estimated_diameter\":{\"kilometers\":{\"estimated_diameter_min\":0.1788771952,\"estimated_diameter_max\":0.3999815682},\"meters\":{\"estimated_diameter_min\":178.8771952404,\"estimated_diameter_max\":399.981568182},\"miles\":{\"estimated_diameter_min\":0.1111491017,\"estimated_diameter_max\":0.248536947},\"feet\":{\"estimated_diameter_min\":586.8674572324,\"estimated_diameter_max\":1312.2755281541}},\"is_potentially_hazardous_asteroid\":false,\"close_approach_data\":[{\"close_approach_date\":\"2021-07-11\",\"close_approach_date_full\":\"2021-Jul-11 22:07\",\"epoch_date_close_approach\":1626041220000,\"relative_velocity\":{\"kilometers_per_second\":\"4.0173821094\",\"kilometers_per_hour\":\"14462.575593898\",\"miles_per_hour\":\"8986.4820405529\"},\"miss_distance\":{\"astronomical\":\"0.4547004824\",\"lunar\":\"176.8784876536\",\"kilometers\":\"68022223.655012488\",\"miles\":\"42267049.8300808144\"},\"orbiting_body\":\"Earth\"}],\"is_sentry_object\":false}]}}\n{\"mode\":\"full\",\"isActive\":false}"
